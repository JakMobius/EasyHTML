!function(e){"use strict";function n(n,i,o,l){function f(e){var t=u(n,i);if(!t||t.to.line-t.from.line<a)return null;for(var r=n.findMarksAt(t.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==l){if(!e)return null;t.cleared=!0,r[o].clear()}return t}if(o&&o.call)u=o,o=null;else var u=r(n,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var a=r(n,o,"minFoldSize"),s=f(!0);if(r(n,o,"scanUp"))for(;!s&&i.line>n.firstLine();)i=e.Pos(i.line-1,0),s=f(!1);if(s&&!s.cleared&&"unfold"!==l){var c=t(n,o);e.on(c,"mousedown",function(n){d.clear(),e.e_preventDefault(n)});var d=n.markText(s.from,s.to,{replacedWith:c,clearOnEnter:r(n,o,"clearOnEnter"),__isFold:!0});d.on("clear",function(t,r){e.signal(n,"unfold",n,t,r)}),e.signal(n,"fold",n,s.from,s.to)}}function t(e,n){var t=r(e,n,"widget");if("string"==typeof t){var i=document.createTextNode(t);(t=document.createElement("span")).appendChild(i),t.className="CodeMirror-foldmarker"}else t&&(t=t.cloneNode(!0));return t}function r(e,n,t){if(n&&void 0!==n[t])return n[t];var r=e.options.foldOptions;return r&&void 0!==r[t]?r[t]:i[t]}e.newFoldFunction=function(e,t){return function(r,i){n(r,i,{rangeFinder:e,widget:t})}},e.defineExtension("foldCode",function(e,t,r){n(this,e,t,r)}),e.defineExtension("isFolded",function(e){for(var n=this.findMarksAt(e),t=0;t<n.length;++t)if(n[t].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(n){n.operation(function(){for(var t=n.firstLine(),r=n.lastLine();t<=r;t++)n.foldCode(e.Pos(t,0),null,"fold")})},e.commands.unfoldAll=function(n){n.operation(function(){for(var t=n.firstLine(),r=n.lastLine();t<=r;t++)n.foldCode(e.Pos(t,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(n,t){for(var r=0;r<e.length;++r){var i=e[r](n,t);if(i)return i}}}),e.registerHelper("fold","auto",function(e,n){for(var t=e.getHelpers(n,"fold"),r=0;r<t.length;r++){var i=t[r](e,n);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"â€¦",minFoldSize:0,scanUp:!1,clearOnEnter:!0};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,n){return r(this,e,n)})}(CodeMirror),function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(n,t){var r=n.getModeAt(t),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var l,f=t.line,u=n.getLine(f),a=t.ch,s=0;;){var c=a<=0?-1:u.lastIndexOf(i,a-1);if(-1!=c){if(1==s&&c<t.ch)return;if(/comment/.test(n.getTokenTypeAt(e.Pos(f,c+1)))&&(0==c||u.slice(c-o.length,c)==o||!/comment/.test(n.getTokenTypeAt(e.Pos(f,c))))){l=c+i.length;break}a=c-1}else{if(1==s)return;s=1,a=u.length}}var d,g,h=1,v=n.lastLine();e:for(var m=f;m<=v;++m)for(var F=n.getLine(m),p=m==f?l:0;;){var x=F.indexOf(i,p),C=F.indexOf(o,p);if(x<0&&(x=F.length),C<0&&(C=F.length),(p=Math.min(x,C))==F.length)break;if(p==x)++h;else if(!--h){d=m,g=p;break e}++p}if(null!=d&&(f!=d||g!=l))return{from:e.Pos(f,l),to:e.Pos(d,g)}}})}(CodeMirror),function(e){"use strict";e.registerHelper("fold","brace",function(n,t){function r(r){for(var f=t.ch,u=0;;){var a=f<=0?-1:l.lastIndexOf(r,f-1);if(-1!=a){if(1==u&&a<t.ch)break;if(i=n.getTokenTypeAt(e.Pos(o,a+1)),!/^(comment|string)/.test(i))return a+1;f=a-1}else{if(1==u)break;u=1,f=l.length}}}var i,o=t.line,l=n.getLine(o),f="{",u="}",a=r("{");if(null==a&&(f="[",u="]",a=r("[")),null!=a){var s,c,d=1,g=n.lastLine();e:for(var h=o;h<=g;++h)for(var v=n.getLine(h),m=h==o?a:0;;){var F=v.indexOf(f,m),p=v.indexOf(u,m);if(F<0&&(F=v.length),p<0&&(p=v.length),(m=Math.min(F,p))==v.length)break;if(n.getTokenTypeAt(e.Pos(h,m+1))==i)if(m==F)++d;else if(!--d){s=h,c=m;break e}++m}if(null!=s&&(o!=s||c!=a))return{from:e.Pos(o,a),to:e.Pos(s,c)}}}),e.registerHelper("fold","import",function(n,t){function r(t){if(t<n.firstLine()||t>n.lastLine())return null;var r=n.getTokenAt(e.Pos(t,1));if(/\S/.test(r.string)||(r=n.getTokenAt(e.Pos(t,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=t,o=Math.min(n.lastLine(),t+10);i<=o;++i){var l=n.getLine(i).indexOf(";");if(-1!=l)return{startCh:r.end,end:e.Pos(i,l)}}}var i,o=t.line,l=r(o);if(!l||r(o-1)||(i=r(o-2))&&i.end.line==o-1)return null;for(var f=l.end;;){var u=r(f.line+1);if(null==u)break;f=u.end}return{from:n.clipPos(e.Pos(o,l.startCh+1)),to:f}}),e.registerHelper("fold","include",function(n,t){function r(t){if(t<n.firstLine()||t>n.lastLine())return null;var r=n.getTokenAt(e.Pos(t,1));return/\S/.test(r.string)||(r=n.getTokenAt(e.Pos(t,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var i=t.line,o=r(i);if(null==o||null!=r(i-1))return null;for(var l=i;null!=r(l+1);)++l;return{from:e.Pos(i,o+1),to:n.clipPos(e.Pos(l))}})}(CodeMirror),function(e){"use strict";function n(n,t){var r=n.getLine(t),i=r.search(/\S/);return-1==i||/\bcomment\b/.test(n.getTokenTypeAt(e.Pos(t,i+1)))?-1:e.countColumn(r,null,n.getOption("tabSize"))}e.registerHelper("fold","indent",function(t,r){var i=n(t,r.line);if(!(i<0)){for(var o=null,l=r.line+1,f=t.lastLine();l<=f;++l){var u=n(t,l);if(-1==u);else{if(!(u>i))break;o=l}}return o?{from:e.Pos(r.line,t.getLine(r.line).length),to:e.Pos(o,t.getLine(o).length)}:void 0}})}(CodeMirror),function(e){"use strict";e.registerHelper("fold","markdown",function(n,t){function r(t){var r=n.getTokenTypeAt(e.Pos(t,0));return r&&/\bheader\b/.test(r)}function i(e,n,t){var i=n&&n.match(/^#+/);return i&&r(e)?i[0].length:(i=t&&t.match(/^[=\-]+\s*$/),i&&r(e+1)?"="==t[0]?1:2:o)}var o=100,l=n.getLine(t.line),f=n.getLine(t.line+1),u=i(t.line,l,f);if(u!==o){for(var a=n.lastLine(),s=t.line,c=n.getLine(s+2);s<a&&!(i(s+1,f,c)<=u);)++s,f=c,c=n.getLine(s+2);return{from:e.Pos(t.line,l.length),to:e.Pos(s,n.getLine(s).length)}}})}(CodeMirror),function(e){"use strict";function n(e,n){return e.line-n.line||e.ch-n.ch}function t(e,n,t,r){this.line=n,this.ch=t,this.cm=e,this.text=e.getLine(n),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function r(e,n){var t=e.cm.getTokenTypeAt(d(e.line,n));return t&&/\btag\b/.test(t)}function i(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function o(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function l(e){for(;;){var n=e.text.indexOf(">",e.ch);if(-1==n){if(i(e))continue;return}if(r(e,n+1)){var t=e.text.lastIndexOf("/",n),o=t>-1&&!/\S/.test(e.text.slice(t+1,n));return e.ch=n+1,o?"selfClose":"regular"}e.ch=n+1}}function f(e){for(;;){var n=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==n){if(o(e))continue;return}if(r(e,n+1)){g.lastIndex=n,e.ch=n;var t=g.exec(e.text);if(t&&t.index==n)return t}else e.ch=n}}function u(e){for(;;){g.lastIndex=e.ch;var n=g.exec(e.text);if(!n){if(i(e))continue;return}if(r(e,n.index+1))return e.ch=n.index+n[0].length,n;e.ch=n.index+1}}function a(e){for(;;){var n=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==n){if(o(e))continue;return}if(r(e,n+1)){var t=e.text.lastIndexOf("/",n),i=t>-1&&!/\S/.test(e.text.slice(t+1,n));return e.ch=n+1,i?"selfClose":"regular"}e.ch=n}}function s(e,n){for(var t=[];;){var r,i=u(e),o=e.line,f=e.ch-(i?i[0].length:0);if(!i||!(r=l(e)))return;if("selfClose"!=r)if(i[1]){for(var a=t.length-1;a>=0;--a)if(t[a]==i[2]){t.length=a;break}if(a<0&&(!n||n==i[2]))return{tag:i[2],from:d(o,f),to:d(e.line,e.ch)}}else t.push(i[2])}}function c(e,n){for(var t=[];;){var r=a(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,l=f(e);if(!l)return;if(l[1])t.push(l[2]);else{for(var u=t.length-1;u>=0;--u)if(t[u]==l[2]){t.length=u;break}if(u<0&&(!n||n==l[2]))return{tag:l[2],from:d(e.line,e.ch),to:d(i,o)}}}else f(e)}}var d=e.Pos,g=new RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");e.registerHelper("fold","xml",function(e,n){for(var r=new t(e,n.line,0);;){var i,o=u(r);if(!o||r.line!=n.line||!(i=l(r)))return;if(!o[1]&&"selfClose"!=i){var f=d(r.line,r.ch),a=s(r,o[2]);return a&&{from:f,to:a.from}}}}),e.findMatchingTag=function(e,r,i){var o=new t(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var u=l(o),a=u&&d(o.line,o.ch),g=u&&f(o);if(u&&g&&!(n(o,r)>0)){var h={from:d(o.line,o.ch),to:a,tag:g[2]};return"selfClose"==u?{open:h,close:null,at:"open"}:g[1]?{open:c(o,g[2]),close:h,at:"close"}:(o=new t(e,a.line,a.ch,i),{open:h,close:s(o,g[2]),at:"open"})}}},e.findEnclosingTag=function(e,n,r,i){for(var o=new t(e,n.line,n.ch,r);;){var l=c(o,i);if(!l)break;var f=s(new t(e,n.line,n.ch,r),l.tag);if(f)return{open:l,close:f}}},e.scanForClosingTag=function(e,n,r,i){return s(new t(e,n.line,n.ch,i?{from:0,to:i}:null),r)}}(CodeMirror);
